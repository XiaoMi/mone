<!DOCTYPE html>
<html>
<head>
    <title>Browser Assistant</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <h1>Browser Assistant</h1>
            <button id="close-sidebar" class="close-btn">Ã—</button>
        </div>
        
        <div class="sidebar-content">
            <div class="message-history">
                <div class="message-header">
                    <h3>WebSocket Messages</h3>
                    <button id="clear-messages" class="action-button">Clear</button>
                </div>
                <div id="realtime-messages"></div>
                <div id="message-container"></div>
            </div>
            
            <div class="position-tracker">
                <p>Current Position: <span id="current-pos">X:0, Y:0</span></p>
                <p>Last Click: <span id="last-click-pos">X:0, Y:0</span></p>
            </div>
            
            <div class="coordinates">
                <div class="input-group">
                    <label for="x-coord">X:</label>
                    <input type="number" id="x-coord">
                </div>
                <div class="input-group">
                    <label for="y-coord">Y:</label>
                    <input type="number" id="y-coord">
                </div>
                <button id="click-btn" class="action-button">ç§»åŠ¨</button>
            </div>

            <div class="button-container-wrapper">
                <div class="button-container-header">
                    <span class="collapse-arrow">â–¶</span>
                    <span class="header-text">åŠŸèƒ½æŒ‰é’®</span>
                </div>
                <div class="button-container collapsed">
                    <button id="showTabs" class="action-button">ğŸ“‘ æ˜¾ç¤ºæ‰€æœ‰æ ‡ç­¾é¡µ</button>
                    <button id="captureFullPage" class="action-button">ğŸ“¸ æˆªå–æ•´é¡µ</button>
                    <button id="captureVisible" class="action-button">ğŸ“· æˆªå–å½“å‰å±å¹•</button>
                    <button id="autoScroll" class="action-button">â¬‡ï¸ è‡ªåŠ¨æ»šåŠ¨</button>
                    <button id="snowEffect" class="action-button">â„ï¸ ä¸‹é›ªç‰¹æ•ˆ</button>
                    <button id="addBorders" class="action-button">ğŸ”² æ·»åŠ å…ƒç´ è¾¹æ¡†</button>
                    <button id="toggleMouseTracker" class="action-button">ğŸ”´ è™šæ‹Ÿé¼ æ ‡è·Ÿè¸ª</button>
                    <button id="redrawDomTree" class="action-button">ğŸ”„ é‡ç»˜DOMæ ‘</button>
                    <button id="viewDomTree" class="action-button">ğŸŒ³ æŸ¥çœ‹DOMæ ‘</button>
                    <button id="getRecentHistory" class="action-button">ğŸ“œ æœ€è¿‘å†å²è®°å½•</button>
                    <button id="getBookmarkStats" class="action-button">ğŸ“š ä¹¦ç­¾ç»Ÿè®¡ä¿¡æ¯</button>
                    <button id="testError" class="action-button">âš ï¸ æµ‹è¯•é”™è¯¯</button>
                    <button id="actionTest" class="action-button">ğŸ¯ æµ‹è¯•æ“ä½œåºåˆ—</button>
                    <button id="scrollOneScreen" class="action-button">ğŸ“œ æ»šåŠ¨ä¸€å±</button>
                    <div class="selector-input-group">
                        <input type="text" id="selector-input" class="selector-input" placeholder="è¯·è¾“å…¥è¦ç§»åŠ¨åˆ°çš„å…ƒç´ çš„CSSé€‰æ‹©å™¨">
                        <button id="move-to-selector" class="action-button">ğŸ¯ ç§»åŠ¨åˆ°æŒ‡å®šå…ƒç´ </button>
                        
                        <div class="action-execute-group" style="margin-top: 10px;">
                            <select id="action-type" class="action-select">
                                <option value="click">ç‚¹å‡»</option>
                                <option value="enter">å›è½¦</option>
                                <option value="fill">è¾“å…¥å†…å®¹</option>
                            </select>
                            <input type="text" id="action-selector" class="selector-input" placeholder="è¯·è¾“å…¥è¦æ“ä½œçš„å…ƒç´ çš„CSSé€‰æ‹©å™¨">
                            <input type="text" id="fill-content" class="selector-input" placeholder="è¾“å…¥è¦å¡«å†™çš„å†…å®¹" style="display: none;">
                            <button id="execute-action" class="action-button">â–¶ï¸ æ‰§è¡Œæ“ä½œ</button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="tabs-list"></div>
            <div id="status-text"></div>

            <div id="messageHistory">
                <!-- æ¶ˆæ¯å†å²è®°å½•ä¼šåœ¨è¿™é‡Œæ˜¾ç¤º -->
            </div>

            <div class="message-input-container">
                <input type="text" id="messageInput" placeholder="è¾“å…¥æ¶ˆæ¯...">
                <button id="sendButton">å‘é€</button>
            </div>
        </div>
    </div>
    <script  src="./managers/screenshotManager.js"></script>
    <script type="module" src="popup.js"></script>

    <style>
    .message-input-container {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 10px;
        background: #1e1e1e;
        border-top: 1px solid #333;
        display: flex;
        gap: 8px;
    }

    #messageInput {
        flex: 1;
        padding: 8px;
        border: 1px solid #333;
        border-radius: 4px;
        background: #2d2d2d;
        color: #fff;
        outline: none;
    }

    #messageInput:focus {
        border-color: #666;
    }

    #sendButton {
        padding: 8px 16px;
        background: #4CAF50;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }

    #sendButton:hover {
        background: #45a049;
    }

    #messageHistory {
        margin-bottom: 60px; /* ä¸ºè¾“å…¥æ¡†ç•™å‡ºç©ºé—´ */
    }
    </style>
</body>
</html>
