import{d as C,l as P,m as R,n as U,p as N,_ as b,c as i,e as w,h as f,g as o,w as t,k as h,t as x,F,q as L,i as y,s as O,f as u,v as A,a as S,x as B,y as I,r as v,E as g,u as D,b as j}from"./index-Co6ij2vp.js";import{S as V}from"./index-BYulWOv-.js";const M=C({__name:"ThemeSwitcher",setup(m,{expose:n}){n();const{currentTheme:r,setTheme:e,themes:l}=P(),d={currentTheme:r,setTheme:e,themes:l,themeNameMap:{light:"明亮",dark:"暗黑",cyberpunk:"赛博朋克"},handleThemeChange:s=>{e(s)},get Brush(){return N},get Check(){return U},get ArrowDown(){return R}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),$={class:"theme-switcher"},H={class:"theme-item"};function G(m,n,r,e,l,p){const c=i("el-icon"),d=i("el-button"),s=i("el-dropdown-item"),a=i("el-dropdown-menu"),k=i("el-dropdown");return f(),w("div",$,[o(k,{onCommand:e.handleThemeChange},{dropdown:t(()=>[o(a,{class:"theme-dropdown-menu"},{default:t(()=>[(f(!0),w(F,null,L(e.themes,(_,T)=>(f(),y(s,{key:T,command:T,class:O({"is-active":e.currentTheme.name===_.name})},{default:t(()=>[u("div",H,[e.currentTheme.name===_.name?(f(),y(c,{key:0},{default:t(()=>[o(e.Check)]),_:1})):A("",!0),u("span",null,x(e.themeNameMap[_.name]||_.name),1)])]),_:2},1032,["command","class"]))),128))]),_:1})]),default:t(()=>[o(d,{type:"primary",icon:e.Brush},{default:t(()=>[h(x(e.themeNameMap[e.currentTheme.name]||e.currentTheme.name)+" ",1),o(c,{class:"el-icon--right"},{default:t(()=>[o(e.ArrowDown)]),_:1})]),_:1},8,["icon"])]),_:1})])}const K=b(M,[["render",G],["__scopeId","data-v-8a827b0d"],["__file","/Users/zhangzhiyong/IdeaProjects/open/mone/jcommon/hive-manager/src/main/resources/static/src/components/ThemeSwitcher.vue"]]),q={__name:"LeftComp",setup(m,{expose:n}){n();const r=S(),e=B(()=>{if(r.path==="/agents")return"AGENT";if(r.path==="/tasks")return"TASK";if(r.path==="/reportList")return"REPORT"}),l={route:r,showTitle:e,get useRoute(){return S},watch:I,computed:B};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}},J={class:"title-container"};function Q(m,n,r,e,l,p){return f(),w("div",J,[u("h1",null,"⚡ "+x(e.showTitle),1),n[0]||(n[0]=u("div",{class:"animated-underline"},null,-1))])}const W=b(q,[["render",Q],["__scopeId","data-v-693de6f3"],["__file","/Users/zhangzhiyong/IdeaProjects/open/mone/jcommon/hive-manager/src/main/resources/static/src/components/LeftComp.vue"]]),X=()=>V({url:"/v1/users/token",method:"post"}),z=()=>V({url:"/v1/users/info",method:"get"}),Y=m=>V({url:"/v1/users/internal-account",method:"post",data:m,headers:{"Content-Type":"application/x-www-form-urlencoded"}}),Z=C({__name:"TokenDialog",setup(m,{expose:n}){const r=v(!1),e=v(""),l=async()=>{try{const a=await z();a.data.code===200&&(e.value=a.data.data.token||"")}catch{g.error("获取Token失败")}},p=async()=>{try{const a=await X();a.data.code===200&&(e.value=a.data.data||"",g.success("创建Token成功"))}catch{g.error("创建Token失败")}},c=async()=>{try{await navigator.clipboard.writeText(e.value),g.success("复制成功")}catch{g.error("复制失败")}},d=()=>{r.value=!0,l()};n({open:d});const s={dialogVisible:r,currentToken:e,fetchToken:l,handleCreateToken:p,copyToken:c,open:d};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),ee={class:"token-container"},ne={key:0,class:"token-display"},oe={key:1,class:"no-token"},te={class:"dialog-footer"};function re(m,n,r,e,l,p){const c=i("el-button"),d=i("el-input"),s=i("el-dialog");return f(),y(s,{modelValue:e.dialogVisible,"onUpdate:modelValue":n[1]||(n[1]=a=>e.dialogVisible=a),title:"Token 管理",width:"500px"},{footer:t(()=>[u("span",te,[e.currentToken?A("",!0):(f(),y(c,{key:0,type:"primary",onClick:e.handleCreateToken},{default:t(()=>n[4]||(n[4]=[h(" 创建新Token ")])),_:1}))])]),default:t(()=>[u("div",ee,[e.currentToken?(f(),w("div",ne,[n[3]||(n[3]=u("span",null,"当前Token：",-1)),o(d,{modelValue:e.currentToken,"onUpdate:modelValue":n[0]||(n[0]=a=>e.currentToken=a),readonly:"",type:"text",class:"token-input"},{append:t(()=>[o(c,{type:"primary",class:"copy-btn",onClick:e.copyToken},{default:t(()=>n[2]||(n[2]=[h("复制")])),_:1})]),_:1},8,["modelValue"])])):(f(),w("div",oe," 暂无Token "))])]),_:1},8,["modelValue"])}const ae=b(Z,[["render",re],["__scopeId","data-v-9a989d50"],["__file","/Users/zhangzhiyong/IdeaProjects/open/mone/jcommon/hive-manager/src/main/resources/static/src/components/TokenDialog.vue"]]),se=C({__name:"BindInner",setup(m,{expose:n}){const r=v(!1),e=v(""),l=async()=>{var s;try{const a=await z();a.data.code===200&&(e.value=((s=a.data.data)==null?void 0:s.internalAccount)||"")}catch{g.error("获取Token失败")}},p=async()=>{try{(await Y({internalAccount:e.value})).data.code===200&&(g.success("绑定成功"),r.value=!1)}catch{g.error("绑定失败")}},c=()=>{r.value=!0,l()};n({open:c});const d={dialogVisible:r,currentInner:e,fetchInner:l,handleBindInner:p,open:c};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),ce={class:"inner-container"},le={class:"inner-display"};function de(m,n,r,e,l,p){const c=i("el-input"),d=i("el-dialog");return f(),y(d,{modelValue:e.dialogVisible,"onUpdate:modelValue":n[1]||(n[1]=s=>e.dialogVisible=s),title:"绑定内部账号",width:"500px"},{default:t(()=>[u("div",ce,[u("div",le,[n[2]||(n[2]=u("span",null,"当前内部账号：",-1)),o(c,{modelValue:e.currentInner,"onUpdate:modelValue":n[0]||(n[0]=s=>e.currentInner=s),type:"text",class:"inner-input",placeholder:"请输入内部账号"},null,8,["modelValue"])])])]),_:1},8,["modelValue"])}const ie=b(se,[["render",de],["__scopeId","data-v-8626dbbe"],["__file","/Users/zhangzhiyong/IdeaProjects/open/mone/jcommon/hive-manager/src/main/resources/static/src/components/BindInner.vue"]]),ue={__name:"Header",setup(m,{expose:n}){n();const r=S(),e=D(),l=v(r.path.substring(1)||"agents"),p=j(),c=v(null),d=v(null);I(()=>r.path,_=>{l.value=_.substring(1)||"agents"});function s(_,T){l.value=_}function a(_){_==="token"?c.value.open():_==="inner"&&d.value.open()}const k={route:r,router:e,activeIndex:l,userStore:p,tokenDialogRef:c,bindInnerRef:d,handleSelect:s,handleCommand:a,ref:v,watch:I,get useRoute(){return S},get useRouter(){return D},LeftComp:W,get useUserStore(){return j},TokenDialog:ae,BindInner:ie,ThemeSwitcher:K};return Object.defineProperty(k,"__isScriptSetup",{enumerable:!1,value:!0}),k}},_e={class:"header-container"},me={class:"header-right"},pe={class:"el-dropdown-link"};function fe(m,n,r,e,l,p){const c=i("el-menu-item"),d=i("el-menu"),s=i("arrow-down"),a=i("el-icon"),k=i("el-dropdown-item"),_=i("el-dropdown-menu"),T=i("el-dropdown"),E=i("router-view");return f(),w(F,null,[u("div",_e,[u("div",null,[o(e.LeftComp)]),o(d,{"default-active":e.activeIndex,class:"el-menu-header",mode:"horizontal",onSelect:e.handleSelect,router:""},{default:t(()=>[o(c,{index:"agents"},{default:t(()=>n[0]||(n[0]=[h("AGENT 列表")])),_:1}),o(c,{index:"tasks"},{default:t(()=>n[1]||(n[1]=[h("TASK 列表")])),_:1}),o(c,{index:"reportList"},{default:t(()=>n[2]||(n[2]=[h("调用列表")])),_:1})]),_:1},8,["default-active"]),u("div",me,[o(T,{onCommand:e.handleCommand},{dropdown:t(()=>[o(_,null,{default:t(()=>[o(k,{command:"token"},{default:t(()=>n[3]||(n[3]=[h("token")])),_:1}),o(k,{command:"inner"},{default:t(()=>n[4]||(n[4]=[h("内部账号")])),_:1})]),_:1})]),default:t(()=>[u("span",pe,[h(x(e.userStore.user.username),1),o(a,{class:"el-icon--right"},{default:t(()=>[o(s)]),_:1})])]),_:1}),o(e.ThemeSwitcher)])]),o(E),o(e.TokenDialog,{ref:"tokenDialogRef"},null,512),o(e.BindInner,{ref:"bindInnerRef"},null,512)],64)}const ve=b(ue,[["render",fe],["__scopeId","data-v-c970699f"],["__file","/Users/zhangzhiyong/IdeaProjects/open/mone/jcommon/hive-manager/src/main/resources/static/src/components/Header.vue"]]);export{ve as default};
